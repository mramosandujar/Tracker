<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Pill Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f7f9fc;
        }

        #calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            max-width: 600px;
            margin: 20px auto;
        }

        .day {
            border: 1px solid #ccc;
            padding: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background-color: #ffffff;
            position: relative;
            transition: background-color 0.3s;
        }

        .day:hover {
            background-color: #e6f7ff;
        }

        .selected-day {
            background-color: #cceeff;
        }

        .pill {
            width: 20px;
            height: 10px;
            background-color: #d634b8;
            border-radius: 10px;
            position: absolute;
            bottom: 5px;
            right: 5px;
        }

        #input-form {
            margin-top: 20px;
            max-width: 400px;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-left: auto;
            margin-right: auto;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Pill Tracker</h1>
    <div id="input-form" class="hidden">
        <h2>Enter Pill Information for <span id="selected-date"></span></h2>
        <input type="text" id="pill-input" placeholder="Enter pill name">
        <button onclick="savePillInfo()">Save</button>
    </div>
    <div id="calendar"></div>

    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            createCalendar();
        });

        function createCalendar() {
            const calendarDiv = document.getElementById("calendar");
            for (let i = 1; i <= 31; i++) {
                const dayDiv = document.createElement("div");
                dayDiv.className = "day";
                dayDiv.innerText = i;
                dayDiv.addEventListener("click", () => openInputForm(i));
                calendarDiv.appendChild(dayDiv);
            }
        }

        function openInputForm(day) {
            document.getElementById("selected-date").innerText = `Day ${day}`;
            document.getElementById("input-form").classList.remove("hidden");
            highlightSelectedDay(day);
            showPillsForDay(day);
        }

        function highlightSelectedDay(day) {
            const dayDivs = document.querySelectorAll(".day");
            dayDivs.forEach(div => div.classList.remove("selected-day"));
            const selectedDayDiv = document.querySelector(`#calendar .day:nth-child(${day})`);
            selectedDayDiv.classList.add("selected-day");
        }

        function savePillInfo() {
            const selectedDate = document.getElementById("selected-date").innerText;
            const pillName = document.getElementById("pill-input").value;

            if (pillName) {
                document.getElementById("pill-input").value = "";
                document.getElementById("input-form").classList.add("hidden");

                // Add a pill icon to the selected day
                const dayNumber = selectedDate.split(" ")[1];
                const dayDiv = document.querySelector(`#calendar .day:nth-child(${dayNumber})`);
                const pillDiv = document.createElement("div");
                pillDiv.className = "pill";
                dayDiv.appendChild(pillDiv);

                // Store pill information in the day's dataset
                if (!dayDiv.dataset.pills) {
                    dayDiv.dataset.pills = JSON.stringify([]);
                }
                const pills = JSON.parse(dayDiv.dataset.pills);
                pills.push(pillName);
                dayDiv.dataset.pills = JSON.stringify(pills);
            } else {
                alert("Please enter the pill name.");
            }
        }

        function showPillsForDay(day) {
            const dayDiv = document.querySelector(`#calendar .day:nth-child(${day})`);
            const pills = dayDiv.dataset.pills ? JSON.parse(dayDiv.dataset.pills) : [];
            alert(`Pills for Day ${day}: ${pills.join(", ")}`);
        }
    </script>
</body>
</html>
